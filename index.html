<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <!--
    Customize this policy to fit your own app's needs. For more guidance, see:
        https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
    Some notes:
        * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
        * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
        * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
            * Enable inline JS: add 'unsafe-inline' to default-src
    -->
    <!--// This is original from Cordova // meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *"-->
    <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src * 'unsafe-inline'; script-src * 'unsafe-inline'; media-src *">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">

    <link rel="stylesheet" type="text/css" href="css/base.css">
    <link rel="stylesheet" type="text/css" href="css/layout.css">
    <link rel="stylesheet" type="text/css" href="css/component.css">
    <link rel="stylesheet" type="text/css" href="css/component.header.css">
    <link rel="stylesheet" type="text/css" href="css/component.footer.css">
    <link rel="stylesheet" type="text/css" href="css/component.panel.css">
    <link rel="stylesheet" type="text/css" href="css/component.content.css">
    <link rel="stylesheet" type="text/css" href="css/component.notification.css">
    <link rel="stylesheet" type="text/css" href="css/theme.css">
    <title>Hello World</title>
    <script>
        var url_server = 'http://philgo.org/';
    </script>

</head>
<body>

<div id='layout'>
    <header class="widget header">
        <div style="display:none; padding-left:2em;">
            <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span>
            Please connect to internet.
        </div>
    </header>
    <nav class="widget menu-panel"></nav>
    <section class="notification"></section>
    <section class="widget content">
        <style>
            .page .banner img {
                width: 100%;
            }
        </style>
        <div class="page">
            <h3>front 위젯을 로딩 중입니다.</h3>
            <h1>필리핀 매거진에 오신 것을 환영합니다.</h1>
            <h2>인사말</h2>
            필리핀 매거진 www.philzine.com 은
            필리핀의 소식과 각종 정보를 제공하는 앱입니다.<br>
            감사합니다.<br>
            <div class="banner"><img src="img/front-banner-1.jpg"></div>
        </div>
    </section>
    <footer class="widget footer">
        <div style="display:none; padding-left:2em;">
            <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span>
            Please connect to internet.
        </div>
    </footer>
</div>

<!--<script type="text/javascript" src="cordova.js"></script>-->

<script type="text/javascript" src="js/underscore-min.js"></script>
<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="js/cordova.js"></script>
<script type="text/javascript" src="js/database.js"></script>
<script type="text/javascript" src="js/helper.js"></script>
<script type="text/javascript" src="js/ajax_load.js"></script>
<script type="text/javascript" src="js/elements.js"></script>
<script type="text/javascript" src="js/panel-menu.js"></script>
<script type="text/javascript" src="js/client.js"></script>

<script>
    setTimeout(function(){
        var version = db.get('version');
        var url_css_bootstrap = db.get('url_css_bootstrap') + '?version=' + version;
        var url_js_bootstrap = db.get('url_js_bootstrap') + '?version=' + version;
        var url_css_server = 'http://www.test.org/apps/philzine2/www/css/server.css?version=' + version;
        var url_js_server = 'http://www.test.org/apps/philzine2/www/js/server.js?version=' + version;

        console.log(url_css_server);
        console.log(url_js_server);

        add_css(url_css_server);
        add_css(url_css_bootstrap);


                add_javascript(url_js_server);
                add_css(url_js_bootstrap);

        function add_css(url){
            var link = document.createElement('link');
            link.setAttribute('rel', 'stylesheet');
            link.setAttribute('type', 'text/css');
            link.setAttribute('href', url);
            document.getElementsByTagName('head')[0].appendChild(link);
        }

        function add_javascript(url) {
            var scriptTag = document.createElement('script');
            scriptTag.src = url;
            document.body.appendChild(scriptTag);
        }

    },
    100
    );
</script>
</body>
</html>
